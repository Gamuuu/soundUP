{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/siwakorn.p.1010/Documents/sounduUP/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error('Missing Supabase environment variables');\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,yLAAY,EAAC,aAAa"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/siwakorn.p.1010/Documents/sounduUP/src/app/api/auth/login/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { supabase } from '../../../../lib/supabase';\n\nexport async function POST(request) {\n  try {\n    const { email, password } = await request.json();\n\n    if (!email || !password) {\n      return NextResponse.json(\n        { message: 'Email and password are required' },\n        { status: 400 }\n      );\n    }\n\n    // Find user by email\n    const { data: user, error } = await supabase\n      .from('User')\n      .select('id, email, name, password, role')\n      .eq('email', email)\n      .single();\n\n    if (error || !user) {\n      return NextResponse.json({ message: 'Invalid credentials' }, { status: 401 });\n    }\n\n    // In a real production app, verify password hash here (e.g. bcrypt.compare)\n    // For this project, we compare directly\n    if (user.password !== password) {\n      return NextResponse.json({ message: 'Invalid credentials' }, { status: 401 });\n    }\n\n    // Login Success\n    return NextResponse.json({\n      message: 'Login successful',\n      user: { id: user.id, email: user.email, name: user.name, role: user.role }\n    });\n\n  } catch (error) {\n    console.error('Login error:', error);\n    return NextResponse.json(\n      { message: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE9C,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;YAAkC,GAC7C;gBAAE,QAAQ;YAAI;QAElB;QAEA,qBAAqB;QACrB,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oIAAQ,CACzC,IAAI,CAAC,QACL,MAAM,CAAC,mCACP,EAAE,CAAC,SAAS,OACZ,MAAM;QAET,IAAI,SAAS,CAAC,MAAM;YAClB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,4EAA4E;QAC5E,wCAAwC;QACxC,IAAI,KAAK,QAAQ,KAAK,UAAU;YAC9B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,gBAAgB;QAChB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;gBAAE,IAAI,KAAK,EAAE;gBAAE,OAAO,KAAK,KAAK;gBAAE,MAAM,KAAK,IAAI;gBAAE,MAAM,KAAK,IAAI;YAAC;QAC3E;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAAwB,GACnC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}